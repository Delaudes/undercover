<div class="min-h-screen bg-gray-900 text-gray-100 flex flex-col">
  <!-- Header fixe avec bouton home et titre -->
  <header class="fixed top-0 left-0 right-0 bg-gray-900 border-b border-gray-800 z-10">
    <div class="max-w-2xl mx-auto px-4 py-4 flex items-center gap-4">
      <!-- Bouton retour accueil -->
      <button
        (click)="gameController.navigateToHome()"
        class="w-12 h-12 flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-gray-100 rounded-lg transition-colors duration-200"
        type="button"
        aria-label="Retour à l'accueil"
      >
        <span class="material-symbols-outlined text-2xl" aria-hidden="true">home</span>
      </button>

      <!-- Titre centré -->
      <h1 class="flex-1 text-3xl md:text-4xl font-bold text-gray-100 text-center">
        {{ viewModel.title }}
      </h1>

      <!-- Spacer pour équilibrer le layout -->
      <div class="w-12 flex-shrink-0"></div>
    </div>
  </header>

  <main class="flex-1 max-w-2xl mx-auto px-4 space-y-8 w-full pt-24 pb-24">
    <!-- Carte flip avec le mot ou instructions -->
    <section class="[perspective:1000px]" aria-live="polite">
      <div class="relative w-full aspect-[3/4] max-w-md mx-auto">
        @if (viewModel.isStarterInstructionsDisplayed) {
        <!-- Carte avec instructions -->
        <div
          class="w-full h-full bg-gray-800 rounded-xl border border-gray-700 flex flex-col items-center justify-center p-8 gap-6"
        >
          <span class="material-symbols-outlined text-emerald-500 text-6xl" aria-hidden="true">
            info
          </span>
          <p class="text-gray-300 text-center text-lg leading-relaxed">
            {{ viewModel.starterInstructions }}
          </p>
        </div>
        } @else {
        <!-- Carte flip normale -->
        <div
          class="w-full h-full [transform-style:preserve-3d]"
          [class.transition-transform]="viewModel.isWordDisplayed"
          [class.duration-700]="viewModel.isWordDisplayed"
          [class.[transform:rotateY(180deg)]]="viewModel.isWordDisplayed"
        >
          <!-- Face avant (verso) -->
          <div
            class="absolute inset-0 [backface-visibility:hidden] bg-gray-800 rounded-xl border border-gray-700 flex items-center justify-center p-6 gap-4"
            aria-hidden="{{ viewModel.isWordDisplayed }}"
          >
            <div
              class="w-24 h-24 flex items-center justify-center bg-gray-700 rounded-xl border-2 border-emerald-500"
            >
              <p class="text-emerald-400 text-5xl font-bold">
                {{ viewModel.currentPlayer.position }}
              </p>
            </div>
          </div>

          <!-- Face arrière (recto avec le mot) -->
          <div
            class="absolute inset-0 [backface-visibility:hidden] [transform:rotateY(180deg)] bg-emerald-600 rounded-xl flex items-center justify-center p-6"
            aria-hidden="{{ !viewModel.isWordDisplayed }}"
          >
            <p class="text-white text-5xl font-bold">
              {{ viewModel.currentPlayer.word }}
            </p>
          </div>
        </div>
        }
      </div>
    </section>
  </main>

  <!-- Boutons d'action fixes en bas -->
  <footer class="fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-800 p-4">
    <div class="max-w-2xl mx-auto flex gap-3 items-stretch">
      <!-- Bouton reset -->
      <button
        (click)="gameController.initGame()"
        class="w-12 h-12 self-center flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-gray-100 rounded-lg transition-colors duration-200"
        type="button"
        aria-label="Réinitialiser la partie"
      >
        <span class="material-symbols-outlined text-2xl" aria-hidden="true">refresh</span>
      </button>

      <!-- Bouton voir mon mot -->
      @if (viewModel.isRevealWordButtonDisplayed) {
      <button
        class="flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200 text-lg flex items-center justify-center gap-2"
        type="button"
        (click)="gameController.revealWord()"
      >
        <span class="material-symbols-outlined text-2xl" aria-hidden="true">visibility</span>
        <span>{{ viewModel.revealWordButtonText }}</span>
      </button>
      }

      <!-- Bouton suivant -->
      @if (viewModel.isGoToNextButtonDisplayed) {
      <button
        class="flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200 text-lg flex items-center justify-center gap-2"
        type="button"
        (click)="gameController.goToNextPlayer()"
      >
        <span>{{ viewModel.goToNextButtonText }}</span>
        <span class="material-symbols-outlined text-2xl" aria-hidden="true">arrow_forward</span>
      </button>
      }

      <!-- Bouton "Qui commence ?" -->
      @if (viewModel.isRevealStarterInstructionsButtonDisplayed) {
      <button
        class="flex-1 bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-4 px-6 rounded-lg transition-colors duration-200 text-lg flex items-center justify-center gap-2"
        type="button"
        (click)="gameController.revealStarterInstructions()"
      >
        <span class="material-symbols-outlined text-2xl" aria-hidden="true">help</span>
        <span>{{ viewModel.revealStarterInstructionsButtonText }}</span>
      </button>
      }
    </div>
  </footer>
</div>
